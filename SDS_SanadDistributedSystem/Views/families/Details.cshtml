@model SDS_SanadDistributedSystem.Models.family

@{
    ViewBag.Title = "تفاصيل";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>تفاصيل العائلة</h2>

<div>
    
    <h4>@Model.idfamily</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.idfamily)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.idfamily)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.personcount)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.personcount)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.lastaddress)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.lastaddress)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.currentaddress)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.currentaddress)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.displacementdate)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.displacementdate)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.phone1owner)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.phone1owner)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.phone2owner)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.phone2owner)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.note)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.note)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.lastname)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.lastname)
        </dd>

        @*<dt>
            @Html.DisplayNameFor(model => model.AspNetUser.Email)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.AspNetUser.Email)
        </dd>*@

    </dl>
</div>


<h3>الأشخاص المسجلين ضمن العائلة</h3>
<div>

    <table class="table" id="familymembers">
        <tr>
            <th>
                الرقم التسلسلي للشخص
            </th>
            <th>
                الاسم الأول
            </th>
            <th>
                الاسم الأخير
            </th>
            <th>
                اسم الأب
            </th>
            <th>
                اسم الأم
            </th>
            <th>
                العمر
            </th>
            <th>
                الجنس
            </th>
            @*<th></th>*@
        </tr>

        @foreach (var item in Model.people)
        {

            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.idperson)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.fname)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.lname)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.fathername)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.mothername)
                </td>
                <td>
                    @{
                        var dob = item.birthday.GetValueOrDefault();
                        DateTime now = DateTime.Today;
                        int age = now.Year - dob.Year;
                        if (now < dob.AddYears(age))
                        { age--; }
                        @Html.DisplayFor(model => age);
                    }
                    @*@Html.DisplayFor(modelItem => item.age)*@
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.gender)
                </td>
                @*<td>
                    @Html.ActionLink("تعديل", "Edit", new { id = item.idperson }) |
                    @Html.ActionLink("تفاصيل", "Details", new { id = item.idperson }) |
                    @Html.ActionLink("حذف", "Delete", new { id = item.idperson })
                </td>*@
            </tr>                             }

    </table>
</div>

<p>
    @Html.ActionLink("تعديل", "Edit", new { id = Model.idfamily }) |
    @Html.ActionLink("العودة إلى قائمة العائلات", "Index")
</p>
